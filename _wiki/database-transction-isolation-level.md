---
layout: wiki
title: 数据库事务特性和隔离级别
categories: [database, wiki]
description: 数据库事务四大特性和隔离级别
keywords: database, 事务特性, 隔离级别
---

## 一、数据库四大事务特性

数据库中事务的四大特性（ACID）。
### 原子性（Atomicity）
原子性是指事务包含的所有操作要么全部成功，要么全部失败回滚。

### 一致性（Consistency）
一致性是指事务必须使数据库从一个一致性状态变换到另一个一致性状态。

### 隔离性（Isolation）
隔离性是当多个用户并发访问数据库时，比如操作同一张表时，数据库为每一个用户开启的事务，不能被其他事务的操作所干扰，多个并发事务之间要相互隔离。

### 持久性（Durability）
持久性是指一个事务一旦被提交了，那么对数据库中的数据的改变就是永久性的，即便是在数据库系统遇到故障的情况下也不会丢失提交事务的操作。

---

## 二、数据库事务隔离级别

### Read uncommitted
**未提交读：**
- 一个事务可能读到另一个事务尚未提交的数据。
- 有`脏读`问题。
- `脏读`：脏读就是指当一个事务正在访问数据，并且对数据进行了修改，而这种修改还没有提交到数据库中，这时，另外一个事务也访问这个数据，然后使用了这个数据。
  
### Read committed
**已提交读：**
- 一个事务读取到另外一个事务提交的数据。
- 有`不可重复读`的问题。
- `不可重复读`：是指在一个事务内，多次读同一数据。在这个事务还没有结束时，另外一个事务也访问该同一数据。那么，在第一个事务中的两次读数据之间，由于第二个事务的修改，那么第一个事务两次读到的的数据可能是不一样的。这样就发生了在一个事务内两次读到的数据是不一样的，因此称为是不可重复读。

### Repeatable read
**可重复读：**
- 一个事务多次读取某一值，同一个事务内读取到的值相同。
- 有`幻读`问题。
- `幻读`：第一个事务对一个表中的数据进行了修改，这种修改涉及到表中的全部数据行。同时，第二个事务也修改这个表中的数据，这种修改是向表中插入一行新数据。那么，以后就会发生操作第一个事务的用户发现表中还有没有修改的数据行，就好象发生了幻觉一样。
  
### Serializable
**串行化：**
- 读写都会加锁。
